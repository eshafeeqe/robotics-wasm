<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2-DOF Robot Arm Simulator | Robo-Desmos</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>2-DOF Planar Robot Arm</h1>
        <p class="subtitle">Interactive forward kinematics visualization powered by Rust + WebAssembly</p>

        <div class="app-layout">
            <!-- Canvas Container -->
            <div class="canvas-container">
                <canvas id="robot-canvas" width="800" height="600"></canvas>
            </div>

            <!-- Controls Panel -->
            <div class="controls-panel">
                <!-- Mode Selection -->
                <div class="control-section">
                    <h2>Robot Mode</h2>
                    <div class="mode-selector">
                        <label>
                            <input type="radio" name="robot-mode" value="simple" checked>
                            <span>Simple (Link Lengths)</span>
                        </label>
                        <label>
                            <input type="radio" name="robot-mode" value="dh">
                            <span>DH Parameters</span>
                        </label>
                    </div>
                </div>

                <div class="divider"></div>

                <!-- DOF Selection -->
                <div class="control-section">
                    <h2>Degrees of Freedom</h2>
                    <div class="control-group">
                        <label>
                            <span>Number of Joints</span>
                            <span class="value-display" id="num-joints-value">2</span>
                        </label>
                        <input type="range" id="num-joints" min="2" max="6" value="2" step="1">
                    </div>
                </div>

                <div class="divider"></div>

                <!-- Link Configuration (Simple Mode) -->
                <div class="control-section" id="simple-config">
                    <h2>Link Lengths (m)</h2>
                    <div id="link-inputs-container">
                        <!-- Dynamically generated link length inputs -->
                    </div>
                </div>

                <!-- DH Configuration (DH Mode) -->
                <div class="control-section" id="dh-config" style="display: none;">
                    <h2>DH Parameters</h2>
                    <div id="dh-inputs-container">
                        <!-- Dynamically generated DH parameter inputs -->
                    </div>
                </div>

                <button id="update-robot" class="preset-btn" style="width: 100%; margin-bottom: 15px;">
                    Update Robot
                </button>

                <div class="divider"></div>

                <!-- Joint Controls -->
                <div class="control-section">
                    <h2>Joint Angles</h2>
                    <div id="joint-angles-container">
                        <!-- Dynamically generated joint angle sliders -->
                    </div>

                    <!-- Preset Configurations (only for 2-DOF) -->
                    <div class="preset-buttons" id="preset-buttons">
                        <button class="preset-btn" data-preset="zero">Zero</button>
                        <button class="preset-btn" data-preset="right">Right Angle</button>
                        <button class="preset-btn" data-preset="folded">Folded</button>
                        <button class="preset-btn" data-preset="stretched">Stretched</button>
                    </div>
                </div>

                <div class="divider"></div>

                <!-- Info Display -->
                <div class="control-section">
                    <h2>End-Effector Position</h2>
                    <div class="info-panel">
                        <div class="info-row">
                            <span class="info-label">X:</span>
                            <span class="info-value" id="pos-x">0.000</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Y:</span>
                            <span class="info-value" id="pos-y">0.000</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Z:</span>
                            <span class="info-value" id="pos-z">0.000</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Distance:</span>
                            <span class="info-value" id="pos-dist">0.000</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="./app.js"></script>
</body>
</html>
